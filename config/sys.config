[
  {kernel, [
    {logger_level, info},
    {logger, [
      %% Console handler (for local dev and general logging)
      {handler, default, logger_std_h, #{
        level => info,
        formatter => {logger_formatter, #{
          single_line => false,
          template => [time, " [", level, "] ", msg, "\n"]
        }}
      }},

      %% File handler for errors (for CloudWatch Agent)
      {handler, file_handler, logger_std_h, #{
        level => error,
        config => #{
          file => "/var/log/hello_erlang/errors.log",
          max_no_bytes => 10485760,  % 10MB
          max_no_files => 5,
          filesync_repeat_interval => 5000
        },
        formatter => {logger_formatter, #{
          single_line => true,  % Better for CloudWatch parsing
          template => [time, " ", level, " ", msg, "\n"]
        }}
      }}
    ]}
  ]},

  %% SASL - System Application Support Libraries
  %% Automatically captures supervisor reports, crash reports
  {sasl, [
    {sasl_error_logger, false},  % Let logger handle it
    {errlog_type, error}
  ]},

  {hello_erlang, []}
].
